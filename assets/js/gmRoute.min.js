function initialize(){var e=new google.maps.LatLng(lat,lng),o={draggable:!0};directionsDisplay=new google.maps.DirectionsRenderer(o);var n={zoom:15,center:e,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0},t=new google.maps.Map(document.getElementById("map_canvas"),n);directionsDisplay.setMap(t),directionsDisplay.setPanel(document.getElementById("directionsPanel"));new google.maps.Marker({position:e,map:t,icon:icons[default_icon].icon});var a=new google.maps.places.SearchBox(input);t.controls[google.maps.ControlPosition.TOP_LEFT].push(input),t.addListener("bounds_changed",function(){a.setBounds(t.getBounds())});var i=[];a.addListener("places_changed",function(){var e=a.getPlaces();if(0!=e.length){i.forEach(function(e){e.setMap(null)}),i=[];var o=new google.maps.LatLngBounds;return e.forEach(function(e){if(e.geometry){var n={url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};i.push(new google.maps.Marker({map:t,icon:n,title:e.name,position:e.geometry.location})),e.geometry.viewport?o.union(e.geometry.viewport):o.extend(e.geometry.location)}else console.log("Returned place contains no geometry")}),t.fitBounds(o),calcRoute(),!1}})}function calcRoute(){var e=$('input[name="travelMode"]:checked').val(),o={origin:document.getElementById("pac-input").value,destination:lat+","+lng,waypoints:[],unitSystem:google.maps.UnitSystem.METRIC,travelMode:google.maps.DirectionsTravelMode[e]};directionsService.route(o,function(e,o){o==google.maps.DirectionsStatus.OK?($("#directionsPanel").empty(),directionsDisplay.setDirections(e),directionsDisplay.setOptions({suppressMarkers:!0}),show_more.classList.remove("invisible")):"ZERO_RESULTS"==o?alert("No route could be found between the origin and destination."):"UNKNOWN_ERROR"==o?alert("A directions request could not be processed due to a server error. The request may succeed if you try again."):"REQUEST_DENIED"==o?alert("This webpage is not allowed to use the directions service."):"OVER_QUERY_LIMIT"==o?alert("The webpage has gone over the requests limit in too short a period of time."):"NOT_FOUND"==o?alert("At least one of the origin, destination, or waypoints could not be geocoded."):"INVALID_REQUEST"==o?alert("The DirectionsRequest provided was invalid."):alert("There was an unknown error in your request. Requeststatus: \n\n"+o)})}var lat=50.2638321,lng=19.0328274,default_icon="navyblue",map,directionDisplay,directionsService=new google.maps.DirectionsService(lat,lng),show_more=document.getElementById("show-more"),iconBase="https://cnk.net.pl/testy/img/",icons={darkgrey:{icon:iconBase+"dark-grey-marker.png"},silver:{icon:iconBase+"silver-marker.png"},grey:{icon:iconBase+"grey-marker.png"},orange:{icon:iconBase+"orange-marker.png"},caribbeanblue:{icon:iconBase+"caribbean-blue-marker.png"},navyblue:{icon:iconBase+"navy-blue-marker.png"}},input=document.getElementById("pac-input"),travelMode_radios=document.getElementsByName("travelMode");for(x=travelMode_radios.length;x--;)travelMode_radios[x].addEventListener("change",function(){if(console.log("Checked: "+this.checked),console.log("Name: "+this.name),console.log("Value: "+this.value),""!=input_places_searchbox.value)return calcRoute(),!1},0);document.getElementById("pac-input").onkeypress=function(e){if(e||(e=window.event),"13"==(e.keyCode||e.which))return calcRoute(),!1},google.maps.event.addDomListener(window,"load",initialize),document.addEventListener("DOMContentLoaded",function(){$(function(){$('[data-toggle="tooltip"]').tooltip()})},!1);var button_calculate=document.getElementById("calculate-route");button_calculate.addEventListener("click",function(e){return calcRoute(),!1},!1);